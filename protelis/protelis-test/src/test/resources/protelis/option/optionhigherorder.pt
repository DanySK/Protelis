/*
 * EXPECTED_RESULT: 7
 */
module protelis:option:sideeffects
import org.protelis.test.TestJavaNull.maybeNull
import org.protelis.lang.datatype.Option.none
import org.protelis.lang.datatype.Option.fromNullable

fromNullable(maybeNull())
    .map(it -> { it.length() })
    .filter(it -> { it > 0 })
    .filterNot(it -> { it > 10 })
    .orElseGet(() -> { "notNull".length() })
